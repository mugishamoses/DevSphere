<mxfile host="app.diagrams.net">
  <diagram name="MoMo ERD Alt" id="alt_momo_sms">
    <mxGraphModel grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1">
      <root>
        <mxCell id="0"/>
        <mxCell id="1"/>

        <!-- Parties -->
        <mxCell id="Parties" value="Parties&#xa;---------&#xa;PK party_id&#xa;party_name&#xa;party_type&#xa;phone_number&#xa;created_at" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="80" y="120" width="220" height="160" as="geometry"/>
        </mxCell>

        <!-- Accounts -->
        <mxCell id="Accounts" value="Accounts&#xa;----------&#xa;PK account_id&#xa;account_type&#xa;currency&#xa;current_balance&#xa;FK party_id" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="360" y="120" width="230" height="160" as="geometry"/>
        </mxCell>

        <!-- Transactions -->
        <mxCell id="Transactions" value="Transactions&#xa;--------------&#xa;PK transaction_id&#xa;transaction_code&#xa;transaction_timestamp&#xa;amount&#xa;currency&#xa;status&#xa;FK sender_account_id&#xa;FK receiver_account_id&#xa;FK category_id" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="660" y="100" width="310" height="240" as="geometry"/>
        </mxCell>

        <!-- Categories -->
        <mxCell id="Categories" value="Transaction_Categories&#xa;-----------------------&#xa;PK category_id&#xa;category_name&#xa;description" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="1040" y="140" width="260" height="140" as="geometry"/>
        </mxCell>

        <!-- Fees -->
        <mxCell id="Fees" value="Fees&#xa;------&#xa;PK fee_id&#xa;fee_amount&#xa;fee_type&#xa;FK transaction_id" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="740" y="380" width="200" height="140" as="geometry"/>
        </mxCell>

        <!-- Logs -->
        <mxCell id="Logs" value="Processing_Logs&#xa;-------------------&#xa;PK log_id&#xa;log_timestamp&#xa;log_level&#xa;message&#xa;FK transaction_id" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="1020" y="380" width="260" height="160" as="geometry"/>
        </mxCell>

        <!-- Relationships -->
        <mxCell edge="1" source="Parties" target="Accounts" value="1:M" style="endArrow=block;html=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell edge="1" source="Accounts" target="Transactions" value="1:M" style="endArrow=block;html=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell edge="1" source="Transactions" target="Categories" value="M:1" style="endArrow=block;html=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell edge="1" source="Transactions" target="Fees" value="1:M" style="endArrow=block;html=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell edge="1" source="Transactions" target="Logs" value="1:M" style="endArrow=block;html=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
